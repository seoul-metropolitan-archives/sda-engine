<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head >
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1"/>
    <meta name="apple-mobile-web-app-capable" content="yes">

    <title th:text="${@environment.getProperty('config.title')}">title</title>

    <link rel="shortcut icon" type="image/x-icon" th:href="@{/assets/favicon.ico/}"/>
    <link rel="icon"          type="image/x-icon" th:href="@{/assets/favicon.ico/}"/>
    <link rel="stylesheet"    type="text/css"     th:href="@{${@environment.getProperty('config.extendedCss')}}"/>
    <link layout:fragment="css"/>

    <script type="text/javascript" th:src="@{/assets/js/plugins.js}"></script>
    <script type="text/javascript" th:src="@{/assets/js/axboot.js}"></script>
    <script type="text/javascript">

        var sessionJson    = convertJsonObj('[[${scriptSession}]]');
        var menuJson       = convertJsonObj('[[${menuJson}]]');
        var commonCodeJson = convertJsonObj('[[${commonCodeJson}]]');

        var CONTEXT_PATH   = 'http://[[${#httpServletRequest.serverName}]]:[[${#httpServletRequest.serverPort}]]';
        /*var CONTEXT_PATH   = 'http://[[@{${@environment.getProperty("server.url")}}]]:[[@{${@environment.getProperty("server.port")}}]]';*/
        var SCRIPT_SESSION = (function(json){return json;})(sessionJson);
        var TOP_MENU_DATA  = (function(json){return json;})(menuJson);
        var COMMON_CODE    = (function(json){return json;})(commonCodeJson);

        function convertJsonObj(jsonStr) {
            return jsonStr == null || jsonStr == '' ? null : JSON.parse(jsonStr.replace(/&quot;/gi, '"'));
        }
    </script>
    <script type="text/javascript" th:src="@{/axboot.config.js}"></script>
    <script layout:fragment="js"></script>
    <script layout:fragment="script"></script>
</head>

<body class="ax-body" th:classappend="${axbody_class}" onselectstart="return false;">

<div id="ax-frame-root" class="visible show-aside" data-root-container="true">

    <!-- header-tool -->
    <div class="ax-frame-header-tool">
        <div class="ax-split-col" style="height: 100%;">
            <div class="ax-split-panel text-align-left"></div>
            <div class="ax-split-panel text-align-right">
                <div class="ax-split-col ax-frame-user-info">
                    <div class="ax-split-panel">
                        <a href="#ax" onclick="fcObj.open_user_info();">
                            <i class="ion-android-person"></i>
                            <span th:text="#{axboot.admin.login.status.message(${loginUser.userNm})}"></span>
                        </a>
                    </div>
                    <div class="panel-split"></div>
                    <div class="ax-split-panel">
                        <i class="ion-compose"></i>
                        마지막 접속일자 <span th:text="${loginUser.lastLoginDate}"></span>
                    </div>
                    <div class="panel-split"></div>
                    <div class="ax-split-panel">
                        <a th:href="@{/api/logout}" class="ax-frame-logout">
                            <i class="cqc-log-out"></i>
                            <span th:text="#{axboot.admin.logout}"></span>
                        </a>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- header -->
    <div class="ax-frame-header">
        <div class="ax-split-col" style="height: 100%;">
            <div class="ax-split-panel" style="width: 30px;">&nbsp;</div>
            <div class="ax-split-panel cell-logo">
                <a th:href="@{/main}">
                    <img th:src="@{${@environment.getProperty('config.logo.header')}}" width="100%"/>
                </a>
            </div>
            <div id="ax-top-menu" class="ax-split-panel ax-split-flex" style="padding-left: 38px;">
                <span id="ax-top-menu-text"><i class="cqc-home"></i></span>
            </div>
            <div class="ax-split-panel cell-aside-handle"></div>
        </div>
    </div>

    <!-- header-tab -->
    <div class="ax-frame-header-tab">
        <div id="ax-frame-header-tab-container"></div>
    </div>

    <!-- aside -->
    <!--<div class="ax-frame-aside" id="ax-frame-aside" style="display: none"></div>
    <script type="text/html" data-tmpl="ax-frame-aside">
        <div class="ax-frame-aside-menu-holder">
            <div style="height: 10px;"></div>
            {{#items}}
            <a class="aside-menu-item aside-menu-item-label{{#hasChildren}} {{#open}}opend{{/open}}{{/hasChildren}}" data-label-index="{{@i}}">
                {{{name}}}
            </a>
            {{#hasChildren}}
            <div class="aside-menu-item aside-menu-item-tree-body {{#open}}opend{{/open}}" data-tree-body-index="{{@i}}">
                <div class="tree-holder ztree" id="aside-menu-{{@i}}" data-tree-holder-index="{{@i}}"></div>
            </div>
            {{/hasChildren}}
            {{/items}}
        </div>
    </script>-->

    <!-- contents -->
    <div layout:fragment="contents"/>

    <!-- footer -->
    <div class="ax-frame-foot">
        <div class="ax-split-col" style="height: 100%;">
            <div class="ax-split-panel text-align-left" th:text="${@environment.getProperty('config.copyrights')}"></div>
            <div class="ax-split-panel text-align-right">
                Last account activity <b id="account-activity-timer">00</b> ago.
            </div>
        </div>
    </div>

</div>

</body>
</html>
